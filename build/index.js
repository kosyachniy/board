!function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n){e.exports=function(){var e=this;e.iframe=null;var n={line:!0,arrow:!0,pencil:!0,dragSingle:!0,dragMultiple:!0,eraser:!0,rectangle:!0,arc:!0,bezier:!0,quadratic:!0,text:!0,image:!0,pdf:!0,marker:!0,zoom:!0,lineWidth:!0,colorsPicker:!0,extraOptions:!0,code:!0};e.icons={line:null,arrow:null,pencil:null,dragSingle:null,dragMultiple:null,eraser:null,rectangle:null,arc:null,bezier:null,quadratic:null,text:null,image:null,pdf:null,pdf_next:null,pdf_prev:null,pdf_close:null,marker:null,zoom:null,lineWidth:null,colorsPicker:null,extraOptions:null,code:null};var t="pencil",r=function(e){},a=function(e){},i=function(){};function o(n){if(n.data&&n.data.uid===e.uid){if(!n.data.sdp)return n.data.canvasDesignerSyncData?(e.pointsLength=n.data.canvasDesignerSyncData.points.length,void r(n.data.canvasDesignerSyncData)):void(n.data.dataURL&&a(n.data.dataURL));window.webrtcHandler.createAnswer(n.data,(function(n){n.sdp?e.postMessage(n):i(n.stream)}))}}e.uid=function(){if(window.crypto&&window.crypto.getRandomValues&&-1===navigator.userAgent.indexOf("Safari")){for(var e=window.crypto.getRandomValues(new Uint32Array(3)),n="",t=0,r=e.length;t<r;t++)n+=e[t].toString(36);return n}return(Math.random()*(new Date).getTime()).toString(36).replace(/\./g,"")}(),e.appendTo=function(r,a){a=a||function(){},e.iframe=document.createElement("iframe"),e.iframe.onload=function(){a(),a=null},e.iframe.src=e.widgetHtmlURL+"?widgetJsURL="+e.widgetJsURL+"&tools="+JSON.stringify(n)+"&selectedIcon="+t+"&icons="+JSON.stringify(e.icons),e.iframe.style.width="100%",e.iframe.style.height="100%",e.iframe.style.border=0,window.removeEventListener("message",o),window.addEventListener("message",o,!1),r.appendChild(e.iframe)},e.destroy=function(){e.iframe&&(e.iframe.parentNode.removeChild(e.iframe),e.iframe=null),window.removeEventListener("message",o)},e.addSyncListener=function(e){r=e},e.syncData=function(n){e.iframe&&e.postMessage({canvasDesignerSyncData:n})},e.setTools=function(e){n=e},e.setSelected=function(e){void 0!==n[e]&&(t=e)},e.toDataURL=function(n,t){a=t,e.iframe&&e.postMessage({genDataURL:!0,format:n})},e.sync=function(){e.iframe&&e.postMessage({syncPoints:!0})},e.pointsLength=0,e.undo=function(t){e.iframe&&("string"==typeof t&&n[t]?e.postMessage({undo:!0,tool:t}):e.postMessage({undo:!0,index:t||e.pointsLength-1||-1}))},e.postMessage=function(n){e.iframe&&(n.uid=e.uid,e.iframe.contentWindow.postMessage(n,"*"))},e.captureStream=function(n){e.iframe&&(i=n,e.postMessage({captureStream:!0}))},e.clearCanvas=function(){e.iframe&&e.postMessage({clearCanvas:!0})},e.renderStream=function(){e.iframe&&e.postMessage({renderStream:!0})},e.widgetHtmlURL="widget.html",e.widgetJsURL="widget.min.js"}}]);
//# sourceMappingURL=index.js.map